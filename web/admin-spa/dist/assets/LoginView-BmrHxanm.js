import{c as f,r as c,q as v,x as a,z as t,R as h,L as d,Q as w,u as o,P as u,Y as _,K as g,aq as p,al as k,O as x,y as r}from"./vue-vendor-R8HMg95E.js";import{_ as S,u as L,a as V}from"./index-CYC8e9-T.js";import{T}from"./ThemeToggle-CIl26c0h.js";import"./element-plus-T7eq0npu.js";import"./vendor-DTV-MYIR.js";const N={class:"flex min-h-screen items-center justify-center p-4 sm:p-6"},I={class:"fixed right-4 top-4 z-50"},M={class:"glass-strong w-full max-w-md rounded-xl p-6 shadow-2xl sm:rounded-2xl sm:p-8 md:rounded-3xl md:p-10"},j={class:"mb-6 text-center sm:mb-8"},q={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center overflow-hidden rounded-xl border border-gray-300/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 backdrop-blur-sm sm:mb-6 sm:h-20 sm:w-20 sm:rounded-2xl"},D=["src"],E={key:1,class:"fas fa-cloud text-2xl text-gray-700 sm:text-3xl"},B={key:1,class:"h-10 w-10 animate-pulse rounded bg-gray-300/50 sm:h-12 sm:w-12"},U={key:0,class:"header-title mb-2 text-2xl font-bold text-white sm:text-3xl"},z={key:1,class:"mx-auto mb-2 h-8 w-48 animate-pulse rounded bg-gray-300/50 sm:h-9 sm:w-64"},C={class:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-300"},F={class:"inline-flex cursor-pointer items-center gap-2 select-none"},O=["disabled"],A={key:0,class:"fas fa-sign-in-alt mr-2"},K={key:1,class:"loading-spinner mr-2"},P={key:0,class:"mt-4 rounded-lg border border-red-500/30 bg-red-500/20 p-3 text-center text-xs text-red-800 backdrop-blur-sm dark:text-red-400 sm:mt-6 sm:rounded-xl sm:p-4 sm:text-sm"},Q={__name:"LoginView",setup(R){const s=L(),b=V(),i=f(()=>s.oemLoading),n=c({username:"",password:""}),m=c(!1);v(()=>{b.initTheme(),s.loadOemSettings()});const y=async()=>{await s.login(n.value,{remember:m.value})};return(Y,e)=>(r(),a("div",N,[t("div",I,[h(T,{mode:"dropdown"})]),t("div",M,[t("div",j,[t("div",q,[i.value?(r(),a("div",B)):(r(),a(w,{key:0},[o(s).oemSettings.siteIconData||o(s).oemSettings.siteIcon?(r(),a("img",{key:0,alt:"Logo",class:"h-10 w-10 object-contain sm:h-12 sm:w-12",src:o(s).oemSettings.siteIconData||o(s).oemSettings.siteIcon,onError:e[0]||(e[0]=l=>l.target.style.display="none")},null,40,D)):(r(),a("i",E))],64))]),!i.value&&o(s).oemSettings.siteName?(r(),a("h1",U,u(o(s).oemSettings.siteName),1)):i.value?(r(),a("div",z)):d("",!0),e[4]||(e[4]=t("p",{class:"text-base text-gray-600 dark:text-gray-400 sm:text-lg"},"管理后台",-1))]),t("form",{class:"space-y-4 sm:space-y-6",onSubmit:_(y,["prevent"])},[t("div",null,[e[5]||(e[5]=t("label",{class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3"},"用户名",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.username=l),class:"form-input w-full",placeholder:"请输入用户名",required:"",type:"text"},null,512),[[p,n.value.username]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3"},"密码",-1)),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.password=l),class:"form-input w-full",placeholder:"请输入密码",required:"",type:"password"},null,512),[[p,n.value.password]])]),t("div",C,[t("label",F,[g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>m.value=l),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",type:"checkbox"},null,512),[[k,m.value]]),e[7]||(e[7]=t("span",null,"记住登录",-1))])]),t("button",{class:"btn btn-primary w-full px-4 py-3 text-base font-semibold sm:px-6 sm:py-4 sm:text-lg",disabled:o(s).loginLoading,type:"submit"},[o(s).loginLoading?d("",!0):(r(),a("i",A)),o(s).loginLoading?(r(),a("div",K)):d("",!0),x(" "+u(o(s).loginLoading?"登录中...":"登录"),1)],8,O)],32),o(s).loginError?(r(),a("div",P,[e[8]||(e[8]=t("i",{class:"fas fa-exclamation-triangle mr-2"},null,-1)),x(u(o(s).loginError),1)])):d("",!0)])]))}},Z=S(Q,[["__scopeId","data-v-70d7470b"]]);export{Z as default};
